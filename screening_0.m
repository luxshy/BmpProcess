global im
A1=im;

[M,N]=size(A1);%图像大小
A1=double(A1);%转换数据类型
B1=imresize(A1,12);%图像放大
[m,n]=size(B1);
C1=zeros(m,n);
YY=[
144,140,132,122,107,63,54,93,106,123,133,142;
143,137,128,104,94,41,31,65,98,116,120,139;
135,131,114,97,61,35,24,55,80,103,113,125;
126,117,88,83,56,29,15,51,68,90,99,111;
109,100,81,77,48,22,8,28,47,76,85,96;
91,44,16,12,9,3,5,21,25,33,37,73;
59,58,30,18,10,1,2,4,11,19,34,42;
92,64,57,52,26,6,7,14,32,46,53,74;
101,95,70,67,38,13,20,36,50,75,82,108;
121,110,86,78,45,17,27,39,69,79,102,119;
134,129,112,89,49,23,43,60,71,87,115,127;
141,138,124,118,66,40,62,72,84,105,130,136];
%调幅加网
for p1=1:M
    for q1=1:N
        for i1=1:12
          for j1=1:12
             if (A1(p1,q1,1)*144/255)>YY(i1,j1)
                  C1(12*(p1-1)+i1,12*(q1-1)+j1,1)=255;
             else 
                  C1(12*(p1-1)+i1,12*(q1-1)+j1,1)=0;
             end
          end
        end
    end
end
%图像放大
figure,newmap = [1,1,0;1,1,1]; imshow(C1),title('0°加网')
imwrite(C1,'Y.tif','TIFF')

